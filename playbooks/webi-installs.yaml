---

- name: Import webi Playbook
  ansible.builtin.import_playbook: webi.yaml

# Main playbook: checks for file existence and conditionally runs a setup playbook.
- name: Conditional File Setup
  hosts: localhost
  gather_facts: true

  vars:
    utility_list:
      - ripgrep
      - fd
      - fzf
      - bat
      - bun
      - jq

  tasks:
    - name: Check for the existence of each file
      ansible.builtin.stat:
        path: "{{ ansible_env.HOME }}/.local/bin/{{ item }}"
      loop: "{{ files_to_check }}"
      register: file_check_results
